<ion-view class="member-view">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-more" ng-click="popover.show($event)"></button>
  </ion-nav-buttons>
  <ion-nav-title>
    <span>Profile</span>
  </ion-nav-title>
  <ion-content>
    <div class="list card">
      <div class="item item-avatar">
        <ionic-letter-avatar data="{{avatar}}" shape="round"></ionic-letter-avatar>
        <h2>{{profile.name.first}} {{profile.name.last}}</h2>
        <p>{{profile.role}}</p>
      </div>
      <div class="item item-body">
        <div class="item">
          Username
          <span class="badge badge-light">
            {{profile._id}}
          </span>
        </div>
        <div class="item">
          Full name
          <span class="badge badge-light">
            {{profile.name.first}} {{profile.name.last}}
          </span>
        </div>
        <div class="item">
          Role
          <span class="badge badge-light">
            {{profile.role}}
          </span>
        </div>
        <div class="item">
          Vehicle
          <span class="badge badge-light">
            {{profile.vin}}
          </span>
        </div>
        <div class="item" ng-hide="profile.role == 'master'">
          Geofence
          <span class="badge badge-light">
            {{profile.geofence}}
          </span>
        </div>
        <div class="item" ng-hide="profile.role == 'master'">
          Speedfence
          <span class="badge badge-light">
            {{profile.speedfence}}
          </span>
        </div>
      </div>
    </div>
  </ion-content>

  <script id="popovers/family/memberMenu.html" type="text/ng-template">
    <ion-popover-view style="height: 160px; width: 160px">
      <ion-content>
        <div class="list">
          <a class="item" ng-click="modalMember.show(); popover.hide()">
            Edit member
          </a>
          <a class="item" ng-click="modalGeofence.show(); popover.hide()">
            Set Geofence
          </a>
          <a class="item" ng-click="modalSpeedfence.show(); popover.hide()">
            Set Speedfence
          </a>
        </div>
      </ion-content>
    </ion-popover-view>
  </script>

  <script id="modals/family/editMember.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar class="bar bar-header bar-positive">
        <h1 class="title">Edit member</h1>
        <button class="button button-clear button-primary" ng-click="modalMember.hide()">Cancel</button>
      </ion-header-bar>
      <ion-content class="padding">
        <div class="list">
          <label class="item item-input item-stacked-label">
            <span class="input-label">First name</span>
            <input ng-model="user.name.first" type="text" placeholder="{{profile.name.first}}">
          </label>
          <label class="item item-input item-stacked-label">
            <span class="input-label">Last name</span>
            <input ng-model="user.name.last" type="text" placeholder="{{profile.name.last}}">
          </label>
          <button class="button button-full button-positive" ng-click="doUpdate()">Update</button>
        </div>
      </ion-content>
    </ion-modal-view>
  </script>

  <script id="modals/family/setGeofence.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar class="bar bar-header bar-positive">
        <h1 class="title">Set Geofence</h1>
        <button class="button button-clear button-primary" ng-click="modalGeofence.hide()">Cancel</button>
      </ion-header-bar>
      <ion-content class="padding">
        <p>Lorem ipsum</p>
      </ion-content>
    </ion-modal-view>
  </script>

  <script id="modals/family/setSpeedfence.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar class="bar bar-header bar-positive">
        <h1 class="title">Set Speedfence</h1>
        <button class="button button-clear button-primary" ng-click="modalSpeedfence.hide()">Cancel</button>
      </ion-header-bar>
      <ion-content class="padding">
        <p>Lorem ipsum</p>
      </ion-content>
    </ion-modal-view>
  </script>

</ion-view>
